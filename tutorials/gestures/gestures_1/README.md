# React-Native. Gestures. Основы: ч.1 Система распознавания жестов в React-Native

В React-Native существует множество способов обработки жестов. От простых встроенных компонентов до очень
сложных сторонних решений для обработки жестов (выбор велик).

Тут мы рассмотрим базовые инструменты React-Native:

1. Использование встроенных компонентов для реагирования на жесты пользователя
2. Gesture Responder System
3. PanResponder

React Native поставляется с несколькими компонентами, которые имеют встроенную поддержку Gesture Responder. По сути,
эти компоненты представляют собой абстрактное использование системы Gesture Responder. Система Gesture Responder System обеспечивает поддержку обработки жестов в React Native, а также поддержку согласования того, какой компонент должен обрабатывать жест пользователя.

## 1. Tap

Самое простое взаимодействие с пользователем - это касание одним пальцем. React-Native предоставляет следующие компоненты для данного вида взаимодействия:

- `Touchable` (есть много разновидностей)
- `Pressable`
- `Button`

### Touchable

Самыми простыми компонентами для записи нажатий пользователя являются `Touchable`-компоненты (их всего 4).
`Touchable`-компоненты предоставляют 4 метода для прослушивания взаимодействия с пользователем:

- `onPressIn`
- `onPressOut`
- `onPress`
- `onLongPress`

Стоит помнить, что если пользователь делает короткое касания, то последовательность методов: `onPressIn`, `onPressOut`, `onPress`. Но если это долгое касание, то последовательность меняется:  `onPressIn`, `onLongPress`, `onPressOut`.

### Button

Под капотом `Button` использует `TouchableOpacity` на iOS и `TouchableNativeFeedback` на Android. `Button` поставляется с некоторым предопределенным стилем, так что вы можете использовать его, не создавая его самостоятельно.

### Pressable

`Pressable` предоставляет те же методы, что и `Touchable`-компоненты, но также поддерживает `ripple` на
Android и работает с пользовательским стилем на iOS. Вы можете предоставить свойство `style` как функцию
и прослушать состояние нажатия.

Вы также можете изменить стиль и содержимое `Pressable` в зависимости от того, нажат он в данный момент или нет.

Также у `Pressable` есть пропсы `hitSlop` и `pressRetentionOffset`, с помощью которых можно задать области касания и смещения для нажимаемого компонента (можно ее увеличить, если очень надо)

```ts
<Pressable
  onPress={() => Alert.alert("Button pressed!")}
  style={({ pressed }) => [
    {
      backgroundColor: pressed
        ? '#f7941e'
        : '#ffffff'
      },
      styles.button
    ]
  }
>
  {
    ({ pressed }) => (
      <Text style={styles.buttonText}>
        {pressed ? 'Button pressed!' : 'Press me!'}
      </Text>
    )
  }
</Pressable>
```

## 2. Scroll

В React-Native есть несколько компонентов для обработки жестов прокрутки. Наиболее часто используемые:

- ScrollView
- FlatList

ScrollView может работать довольно медленно и занимать мало памяти, когда у него очень длинный список дочерних элементов. Это связано с тем, что ScrollView отображает все дочерние элементы сразу. Если вам нужна более производительная версия с отложенной загрузкой элементов, стоит воспользоваться FlatList или SectionList.

